# State Management Techniques

State Management Techniques is used to store the data for later point of use until the users session ends.

State Management Techniques are
     
1)Client side State Management Techniques:
       In  Client-Side State Management the data which we want to store  is directly get stored on the client-side.
       That specific information will travel back and communicate with every request generated by the user.
      
       Client-Side State Management techniques are,
          a) View State
          b) Hidden field
          c) Cookies
          d) Control State
          e) Query Strings
          
a) Query Strings: Query string is used to pass data from one page to another .Query string is stored in the URL and it is visible to the end user's.
                  query string contains set of key and value pairs.It is not recommended to store secure and sensitive data.
                  

 ###### namespace StateManagementTechniquesApp
 ###### 
 {
    public partial class FirstPage : System.Web.UI.Page
 ######     {
        protected void Page_Load(object sender, EventArgs e)
        {
            

        }

        protected void Button1_Click(object sender, EventArgs e)
        {
            string n1 = TextBox1.Text;
            string e1 = TextBox2.Text;
            Response.Redirect("SecondPage.aspx?name=" + n1 + "&Email=" + e1);
            

        }
    }
}

###### namespace StateManagementTechniquesApp
###### {
    public partial class SecondPage : System.Web.UI.Page
 ######   {
        protected void Page_Load(object sender, EventArgs e)
        {
            string s1 = Convert.ToString(Request.QueryString["name"]);
            string s2 = Convert.ToString(Request.QueryString["Email"]);
            Response.Write($"Name = {s1}   \n email = {s2}");


        }
    }
}
                  
 b) Cookies :  Cookies a piece of data which is sent from web server to browser usually cookies are created in the web server and it is stored in the browser computer.
               
    types of cookies are:
    
     1)Temporary cookie :Temporary cookie stored in browser memory in client computer .Temporary cookie will get deleted once browser is closed. 
    
     2)Permanent cookie:Permanent cookie stored in Hard Disk memory of client computer .Permanent cookie is get deleted after expiration time is elapsed.
     
###### public partial class Webform1 : System.Web.UI.Page
 ###### {
        protected void Page_Load(object sender, EventArgs e)
        {

        }

        protected void Button1_Click(object sender, EventArgs e)
        {
            HttpCookie cookie = new HttpCookie("UserInfo");
            cookie["Name"] = TextBox1.Text;
            cookie["Email"] = TextBox2.Text;
            cookie.Expires = DateTime.Now.AddDays(15);
            Response.Cookies.Add(cookie);
            Response.Redirect("Webform2.aspx");
        }
    }
    
###### public partial class Webform2 : System.Web.UI.Page
 ###### {
        protected void Page_Load(object sender, EventArgs e)
        {
            HttpCookie cookie = Request.Cookies["UserInfo"];
            if (cookie != null)
            {
                Label2.Text = cookie["Name"];
                Label4.Text = cookie["Email"];
            }
        }
    }    
     
c) Hiddenfield Control:Hidden field control is an invisible control it  not visible to an end user's in the browser .It is similar to text box.
                      Hidden fields is best to store only small amounts of frequently changed data on the client.
                      
###### public partial class HiddenField : System.Web.UI.Page
###### {
        protected void Page_Load(object sender, EventArgs e)
        {

        }

        protected void Button1_Click(object sender, EventArgs e)
        {
            HiddenField1.Value = TextBox1.Text;
        }

        protected void Button2_Click(object sender, EventArgs e)
        {
            Label1.Text = HiddenField1.Value;
        }
    }                      

d) View State:View State is the method to preserve the Value of the Page and Controls between round trips.It internally uses hidden field control for storing data. 

###### public partial class Default : System.Web.UI.Page
 ###### {
        int i = 0;
        protected void Page_Load(object sender, EventArgs e)
        {if(!IsPostBack)
            {
                ViewState["Data"] = i;
            }

        }

        protected void Button1_Click(object sender, EventArgs e)
        {
            i = (int)ViewState["Data"];
            Label1.Text = (++i).ToString();
            ViewState["Data"] = i;

        }
    }

e) Control State:Control state technique is developed to maintain data work properly in order. We can use view state but suppose view state is disabled by the user, 
  the control will not work as expected. For expected results of the control we have to use Control State. 
  
    
2) Server side State Management Techniques:
        In  Server-Side State Management the data will be stored on the serverside-side.
        In Server-Side State Management all the information is stored in the user memory. it is safe.
        
        *Server-Side State Management techniques are,
          a)Session State
          b)Application State
          
  a) Session State: Session is a server side state management technique. It is used for storing user specific data.
                   usually for every user unique session memory will be allocated.Default session Timeout is 20 minutes.
                   To delete session memory programatically we should use following method session.abondon();
                   
###### public partial class WebForm3 : System.Web.UI.Page
###### {
        protected void Page_Load(object sender, EventArgs e)
        {

        }

        protected void Button1_Click(object sender, EventArgs e)
        {
            Session["data"] = TextBox1.Text;
            Response.Redirect("WebForm4.aspx");
        }
    }
    
###### public partial class WebForm4 : System.Web.UI.Page
 ###### {
        protected void Page_Load(object sender, EventArgs e)
        {
            if(!IsPostBack)
            {
                Response.Write(Session["data"].ToString());
            }
        }
    }    
              
     
                   
  b) Application State: Application memory is common for all users. It is recommended to use application memory for storing data which is common for all users.
                       There is no timeout for application memory. Application memory will be existing forever in the webserver.
                       
 ###### public partial class WebForm5 : System.Web.UI.Page
 ###### {
        protected void Page_Load(object sender, EventArgs e)
        {

        }

        protected void Button1_Click(object sender, EventArgs e)
        {
            Application["data"] = TextBox1.Text;
            Response.Redirect("WebForm6.aspx");
        }
    } 
    
  ###### public partial class WebForm6 : System.Web.UI.Page
 ###### {
        protected void Page_Load(object sender, EventArgs e)
        {
            if (!IsPostBack)
            {
                Response.Write(Application["data"].ToString());
            }

        }
    }   
                       
|               Session State                                   |                               Application State                                    |
|---------------------------------------------------------------|------------------------------------------------------------------------------------|
| For every user unique session memory will be created.         | The data which is common for all the users will be stored in the application state |
| Default session timeout is 20 minutes.                        | There is no timeout for application state.                                         |
| for storing data  :session["data"]=value;                     | application["data"]=value;                                                         |
|                                                               |                                                                                    |
                    
                   
